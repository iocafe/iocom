<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Created with Inkscape (http://www.inkscape.org/) -->

<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="210mm"
   height="297mm"
   viewBox="0 0 744.09448819 1052.3622047"
   id="svg2"
   version="1.1"
   inkscape:version="0.91 r13725"
   sodipodi:docname="180810-io-device-redundancy.svg">
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="1.6834734"
     inkscape:cx="391.21705"
     inkscape:cy="522.82399"
     inkscape:document-units="px"
     inkscape:current-layer="layer1"
     showgrid="true"
     inkscape:window-width="3840"
     inkscape:window-height="2107"
     inkscape:window-x="0"
     inkscape:window-y="0"
     inkscape:window-maximized="1">
    <inkscape:grid
       type="xygrid"
       id="grid3413" />
  </sodipodi:namedview>
  <defs
     id="defs4" />
  <metadata
     id="metadata7">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title></dc:title>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     id="layer1"
     inkscape:groupmode="layer"
     inkscape:label="Layer 1">
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:40px;line-height:125%;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       x="36.401711"
       y="86.309174"
       id="text3670"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         id="tspan3672"
         x="36.401711"
         y="86.309174">IO device redundancy</tspan></text>
    <ellipse
       style="opacity:1;fill:#e5ff80;stroke:#2b0000"
       id="path3442"
       cx="232.74792"
       cy="194.89804"
       rx="82.5"
       ry="50" />
    <ellipse
       style="opacity:1;fill:#e9afaf;stroke:#2b0000"
       id="path3442-3"
       cx="149.7729"
       cy="484.99615"
       rx="82.5"
       ry="50" />
    <path
       style="opacity:1;fill:none;fill-rule:evenodd;stroke:#cccccc;stroke-width:3;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       d="m 271.88519,239.7998 c -0.10162,5.10162 -1.00518,76.00518 20,100 29.64047,33.85916 37.61897,150.39268 37.61897,150.39268"
       id="path3459"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="csc" />
    <path
       style="opacity:1;fill:none;fill-rule:evenodd;stroke:#00ff00;stroke-width:3;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       d="m 201.69744,241.39547 c 0,5 -40.19634,68.06822 -40.19634,113.06821 0,45 -12.07654,81.48752 -12.07654,81.48752"
       id="path3459-6"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="csc" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:40px;line-height:125%;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       x="21.708593"
       y="244.98116"
       id="text3429-1-9-7"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         x="21.708593"
         y="244.98116"
         style="font-size:15px"
         id="tspan4310">TCP sockets between </tspan><tspan
         sodipodi:role="line"
         x="21.708593"
         y="263.73114"
         style="font-size:15px"
         id="tspan5239">the controller and </tspan><tspan
         sodipodi:role="line"
         x="21.708593"
         y="282.48117"
         style="font-size:15px"
         id="tspan4314">IO devices. The</tspan><tspan
         sodipodi:role="line"
         x="21.708593"
         y="301.23117"
         style="font-size:15px"
         id="tspan5269">controller sees </tspan><tspan
         sodipodi:role="line"
         x="21.708593"
         y="319.98117"
         style="font-size:15px"
         id="tspan4318">all inputs from </tspan><tspan
         sodipodi:role="line"
         x="21.708593"
         y="338.73117"
         style="font-size:15px"
         id="tspan5253">both IO devices,</tspan><tspan
         sodipodi:role="line"
         x="21.708593"
         y="357.48117"
         style="font-size:15px"
         id="tspan4320">and selects which </tspan><tspan
         sodipodi:role="line"
         x="21.708593"
         y="376.23117"
         style="font-size:15px"
         id="tspan5263">one to use. </tspan><tspan
         sodipodi:role="line"
         x="21.708593"
         y="394.98117"
         style="font-size:15px"
         id="tspan5265">It writes all </tspan><tspan
         sodipodi:role="line"
         x="21.708593"
         y="413.73117"
         style="font-size:15px"
         id="tspan5219">ouputs to both </tspan><tspan
         sodipodi:role="line"
         x="21.708593"
         y="432.48117"
         style="font-size:15px"
         id="tspan5271">IO devices.</tspan><tspan
         sodipodi:role="line"
         x="21.708593"
         y="451.23117"
         style="font-size:15px"
         id="tspan4330" /></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:40px;line-height:125%;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       x="201.08769"
       y="200.07697"
       id="text3429-1-9-7-7"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         id="tspan3431-2-2-3-4"
         x="201.08769"
         y="200.07697"
         style="font-size:15px">controller</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:40px;line-height:125%;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       x="116.58852"
       y="491.12018"
       id="text3429-1-9-7-7-4"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         id="tspan3431-2-2-3-4-0"
         x="116.58852"
         y="491.12018"
         style="font-size:15px">IO device 1</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:40px;line-height:125%;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       x="39.222733"
       y="122.26401"
       id="text3429-1-9-7-0-0"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         x="39.222733"
         y="122.26401"
         style="font-size:15px"
         id="tspan4330-6-8">IO device redundancy: There are two separate IO devices connected to same physical wold.</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:40px;line-height:125%;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       x="59.6786"
       y="610.07428"
       id="text3429-1-9-7-0-9"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         x="59.6786"
         y="610.07428"
         style="font-size:15px"
         id="tspan5351">There needs to be a wire, etc, between the IO devices for interlock signal.  </tspan><tspan
         sodipodi:role="line"
         x="59.6786"
         y="628.82428"
         style="font-size:15px"
         id="tspan5347" /><tspan
         sodipodi:role="line"
         x="59.6786"
         y="647.57428"
         style="font-size:15px"
         id="tspan5337">If an IO device thinks it is functional and it is not receiving toggled interlock signal </tspan><tspan
         sodipodi:role="line"
         x="59.6786"
         y="666.32428"
         style="font-size:15px"
         id="tspan5390">input, it keeps on toggling the interlock output on/off and assumes control of the </tspan><tspan
         sodipodi:role="line"
         x="59.6786"
         y="685.07428"
         style="font-size:15px"
         id="tspan5404">outputs. If an IO device receives constant on, off, on, off... in it's interlock input pin, </tspan><tspan
         sodipodi:role="line"
         x="59.6786"
         y="703.82428"
         style="font-size:15px"
         id="tspan5392">it will disable it's outputs and stop putting out interlock signal. </tspan><tspan
         sodipodi:role="line"
         x="59.6786"
         y="722.57428"
         style="font-size:15px"
         id="tspan5381" /><tspan
         sodipodi:role="line"
         x="59.6786"
         y="741.32428"
         style="font-size:15px"
         id="tspan5418">If IO device 1 is our first choice for outputs, we connect interlock signal from </tspan><tspan
         sodipodi:role="line"
         x="59.6786"
         y="760.07428"
         style="font-size:15px"
         id="tspan5383">IO device 1 output to IO device 2 input. </tspan><tspan
         sodipodi:role="line"
         x="59.6786"
         y="778.82428"
         style="font-size:15px"
         id="tspan4330-6-4" /></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:40px;line-height:125%;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       x="342.42239"
       y="235.03265"
       id="text3429-1-9-7-3-8"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         x="342.42239"
         y="235.03265"
         style="font-size:15px"
         id="tspan4330-4-3">The controller selects does it use inputs from IO</tspan><tspan
         sodipodi:role="line"
         x="342.42239"
         y="253.78265"
         style="font-size:15px"
         id="tspan4971">device 1 or device 2. It selects the IO device with </tspan><tspan
         sodipodi:role="line"
         x="342.42239"
         y="272.53265"
         style="font-size:15px"
         id="tspan5277">highest priority which has open TCP socket and is </tspan><tspan
         sodipodi:role="line"
         x="342.42239"
         y="291.28265"
         style="font-size:15px"
         id="tspan4977">receiving ALIVE signal from a the IO device. </tspan><tspan
         sodipodi:role="line"
         x="342.42239"
         y="310.03265"
         style="font-size:15px"
         id="tspan5283">ALIVE signal is a byte in IO devices input memory </tspan><tspan
         sodipodi:role="line"
         x="342.42239"
         y="328.78265"
         style="font-size:15px"
         id="tspan4979">block, which is incremented constantly, for </tspan><tspan
         sodipodi:role="line"
         x="342.42239"
         y="347.53265"
         style="font-size:15px"
         id="tspan5195">example once per second. IO device PRIORITY is</tspan><tspan
         sodipodi:role="line"
         x="342.42239"
         y="366.28265"
         style="font-size:15px"
         id="tspan5289">also byte in input memory block. Initial priority</tspan><tspan
         sodipodi:role="line"
         x="342.42239"
         y="385.03265"
         style="font-size:15px"
         id="tspan5488">for IO device is high if it doesn't receive toggled</tspan><tspan
         sodipodi:role="line"
         x="342.42239"
         y="403.78265"
         style="font-size:15px"
         id="tspan5492">interlock signal, and step lower if it does.</tspan><tspan
         sodipodi:role="line"
         x="342.42239"
         y="422.53265"
         style="font-size:15px"
         id="tspan5293">If IO device detects problems in it's internal </tspan><tspan
         sodipodi:role="line"
         x="342.42239"
         y="441.28265"
         style="font-size:15px"
         id="tspan5295">diagnostics, it needs to lower it's priority </tspan><tspan
         sodipodi:role="line"
         x="342.42239"
         y="460.03265"
         style="font-size:15px"
         id="tspan5498">significantly.</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:40px;line-height:125%;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       x="393.10126"
       y="154.25735"
       id="text3429-1-9-7-0-0-0"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         x="393.10126"
         y="154.25735"
         style="font-size:15px"
         id="tspan4330-6-8-4">The IO devices can connect to same </tspan><tspan
         sodipodi:role="line"
         x="393.10126"
         y="173.00735"
         style="font-size:15px"
         id="tspan5132">sensors or separate sensors measuring </tspan><tspan
         sodipodi:role="line"
         x="393.10126"
         y="191.75735"
         style="font-size:15px"
         id="tspan5107">the same physical parameter. Two IO devices</tspan><tspan
         sodipodi:role="line"
         x="393.10126"
         y="210.50735"
         style="font-size:15px"
         id="tspan5109">can control the same motor or valve.</tspan></text>
    <ellipse
       style="opacity:1;fill:#e9afaf;stroke:#2b0000"
       id="path3442-3-7"
       cx="372.54663"
       cy="528.06433"
       rx="82.5"
       ry="50" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:40px;line-height:125%;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       x="339.36224"
       y="534.18835"
       id="text3429-1-9-7-7-4-8"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         id="tspan3431-2-2-3-4-0-7"
         x="339.36224"
         y="534.18835"
         style="font-size:15px">IO device 2</tspan></text>
    <path
       style="opacity:1;fill:none;fill-rule:evenodd;stroke:#ff0000;stroke-width:2.29325747;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       d="m 165.68892,532.61579 c 0,3.72834 32.04559,18.80502 67.26462,20.49788 38.95114,1.87231 58.78339,-13.70869 58.78339,-13.70869"
       id="path3459-6-8-3-3"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="csc" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:40px;line-height:125%;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       x="182.35391"
       y="571.3681"
       id="text3429-1-9-7-7-4-7"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         id="tspan3431-2-2-3-4-0-3"
         x="182.35391"
         y="571.3681"
         style="font-size:15px">interlock wire</tspan></text>
  </g>
</svg>
